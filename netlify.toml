[build]
  functions = "api"    # Folder where your functions (redirect.js, shorten.js) are stored
  publish = "public"   # Your static files (index.html, preview.jpg)

# Handle all 6-character hex paths (like abc123)
[[redirects]]
  from = "/:slug([a-f0-9]{6})"
  to = "/.netlify/functions/redirect"
  status = 200

# API route for your frontend to call
[[redirects]]
  from = "/api/shorten"
  to = "/.netlify/functions/shorten"
  status = 200

# Serve index.html for all other paths
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
