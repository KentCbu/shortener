<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="UTF-8">
  <title>GOMOTV URL Shortener</title>

  <!-- ✅ OG META TAGS FOR FACEBOOK & TWITTER -->
  <meta property="og:title" content="GoMoTV – URL Shortener for Movie Links">
  <meta property="og:description" content="Easily shorten and share movie & TV show links using GoMoTV.">
  <meta property="og:image" content="https://watch-gomotv.online/preview.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="https://watch-gomotv.online">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    body { font-family: sans-serif; max-width: 500px; margin: 50px auto; text-align: center; }
    input, button { padding: 10px; margin: 10px; width: 80%; }
  </style>
</head>
<body>
  <h2>GOMOTV URL Shortener</h2>
  <input type="text" id="longUrl" placeholder="Paste your long URL here">
  <button onclick="shorten()">Shorten</button>
  <div id="result"></div>

  <script>
    async function shorten() {
      const longUrl = document.getElementById('longUrl').value;
      const res = await fetch('/.netlify/functions/shorten', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ url: longUrl })
      });
      const data = await res.json();
      if (data.short) {
        const shortUrl = window.location.origin + '/' + data.short;
        document.getElementById('result').innerHTML = 'Short URL: <a href="' + shortUrl + '" target="_blank">' + shortUrl + '</a>';
      } else {
        document.getElementById('result').innerHTML = '❌ Error generating short link.';
      }
    }
  </script>
</body>
</html>
